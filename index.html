<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch√∫c m·ª´ng ng√†y Nh√† gi√°o Vi·ªát Nam 20/11</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #faf5ef 0%, #fff8ee 100%);
    color: #3e2d1b;
    margin: 0;
    overflow-x: hidden;
    min-height: 100vh;
    position: relative;
  }

  .hero {
    text-align: center;
    padding: 40px 20px 30px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9) 0%, transparent 100%);
  }

  .hero h1 {
    font-size: 2.5rem;
    margin: 0 0 10px;
    color: #c45b2d;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
  }

  .hero p {
    margin: 0;
    color: #6b4f36;
    font-size: 1.1rem;
  }

  /* Question section */
  .question-section {
    max-width: 900px;
    margin: 0 auto 30px;
    padding: 0 20px;
    text-align: center;
  }

  .question-label {
    display: block;
    margin-bottom: 20px;
    color: #6b4f36;
    font-size: 1.3rem;
    font-weight: 600;
  }

  .subjects-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
    padding: 20px;
  }

  .subject-btn {
    background: linear-gradient(180deg, #fff 0%, #faf5ef 100%);
    border: 2px solid #f0d8b7;
    padding: 14px 24px;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    min-width: 100px;
    text-align: center;
    font-size: 1rem;
    font-weight: 500;
    color: #5c4733;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .subject-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(196, 91, 45, 0.1);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }

  .subject-btn:hover::before {
    width: 300px;
    height: 300px;
  }

  .subject-btn:hover {
    transform: translateY(-5px);
    border-color: #c45b2d;
    box-shadow: 0 10px 25px rgba(196, 91, 45, 0.2);
    color: #c45b2d;
  }

  .subject-btn:active {
    transform: translateY(-2px);
  }

  /* Display area for chosen subject */
  .subject-display {
    position: relative;
    max-width: 600px;
    margin: 0 auto 28px;
    padding: 30px;
    background: linear-gradient(180deg, #fffefb, #fff8ee);
    border-radius: 16px;
    border: 2px solid #f3d4b3;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 24px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.1);
    animation: fadeInUp 0.5s ease;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .subject-display img {
    width: 100%;
    max-width: 400px;
    height: auto;
    aspect-ratio: 16/10;
    object-fit: cover;
    border-radius: 12px;
    border: 2px solid rgba(196, 91, 45, 0.2);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }

  .subject-message {
    font-size: 1.2rem;
    color: #4b3726;
    line-height: 1.8;
    text-align: center;
    padding: 0 10px;
  }

  .subject-display[aria-hidden="true"] {
    display: none;
  }

  /* Falling letters animation */
  .falling-letter {
    position: fixed;
    font-size: 24px;
    color: #c45b2d;
    pointer-events: none;
    z-index: 1000;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    animation: fall linear forwards;
  }

  @keyframes fall {
    0% {
      transform: translateY(-100px) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(calc(100vh + 100px)) rotate(360deg);
      opacity: 0;
    }
  }

  /* Floating wishes (small messages) */
  .floating-wish {
    position: fixed;
    font-size: 14px;
    color: #6b4f36;
    pointer-events: none;
    z-index: 999;
    background: rgba(255, 255, 255, 0.9);
    padding: 8px 12px;
    border-radius: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    border: 1px solid #f3d4b3;
    animation: floatUp 4s ease-out forwards;
    max-width: 200px;
    text-align: center;
    white-space: nowrap;
  }

  @keyframes floatUp {
    0% {
      transform: translateY(0) scale(0.8);
      opacity: 0;
    }
    10% {
      opacity: 1;
      transform: translateY(-10px) scale(1);
    }
    85% {
      opacity: 1;
    }
    100% {
      transform: translateY(-100px) scale(0.8);
      opacity: 0;
    }
  }


  /* Decorative elements */
  .decoration {
    position: absolute;
    width: 100px;
    height: 100px;
    opacity: 0.1;
    pointer-events: none;
  }

  /* Music control button */
  .music-control {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(135deg, #c45b2d, #e67e22);
    border: 2px solid #fff;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: #fff;
    z-index: 1000;
    transition: all 0.3s ease;
  }

  .music-control:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(196, 91, 45, 0.4);
  }

  .music-control.playing {
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  .music-control.muted {
    opacity: 0.6;
    background: linear-gradient(135deg, #7a5b43, #6b4f36);
  }

  /* Music prompt overlay */
  .music-prompt {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    animation: fadeIn 0.3s ease;
  }

  .music-prompt.hidden {
    display: none;
  }

  .music-prompt-content {
    background: linear-gradient(180deg, #fffefb, #fff8ee);
    padding: 30px 40px;
    border-radius: 16px;
    border: 2px solid #f3d4b3;
    box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    text-align: center;
    max-width: 400px;
  }

  .music-prompt-content h3 {
    color: #c45b2d;
    margin: 0 0 15px;
    font-size: 1.5rem;
  }

  .music-prompt-content p {
    color: #4b3726;
    margin: 0 0 20px;
    line-height: 1.6;
  }

  .music-prompt-btn {
    background: linear-gradient(135deg, #c45b2d, #e67e22);
    color: #fff;
    border: none;
    padding: 12px 30px;
    border-radius: 25px;
    font-size: 1.1rem;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(196, 91, 45, 0.3);
    transition: all 0.3s ease;
  }

  .music-prompt-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(196, 91, 45, 0.4);
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @media (max-width: 768px) {
    .hero h1 {
      font-size: 2rem;
    }

    .subject-display {
      padding: 20px;
    }

    .subject-display img {
      max-width: 100%;
    }

    .subject-message {
      font-size: 1.1rem;
    }
  }
</style>
</head>
<body>
  <div class="hero">
    <h1>üéâ Ch√∫c m·ª´ng ng√†y Nh√† gi√°o Vi·ªát Nam 20/11 üéâ</h1>
    <p>Tri √¢n nh·ªØng ng∆∞·ªùi th·∫ßy, ng∆∞·ªùi c√¥ ƒë√°ng k√≠nh</p>
  </div>

  <!-- Question section -->
  <section class="question-section">
    <label class="question-label">Th·∫ßy/c√¥ l√† gi√°o vi√™n b·ªô m√¥n g√¨?</label>
    <div class="subjects-grid" id="subjectsGrid"></div>
  </section>

  <!-- Display area for chosen subject -->
  <div id="subjectDisplay" class="subject-display" aria-hidden="true"></div>

  <!-- Audio Player (hidden) -->
  <audio id="backgroundMusic" loop preload="auto">
    <source src="audio.mp3" type="audio/mpeg">
    <source src="audio.ogg" type="audio/ogg"> <!-- t√πy ch·ªçn, kh√¥ng b·∫Øt bu·ªôc -->
  </audio>

  <!-- Music control button -->
  <button id="musicToggle" class="music-control" aria-label="B·∫≠t/T·∫Øt nh·∫°c">üéµ</button>

  <!-- Music prompt overlay -->
  <div id="musicPrompt" class="music-prompt hidden">
    <div class="music-prompt-content">
      <h3>üéµ B·∫≠t nh·∫°c n·ªÅn</h3>
      <p>Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ ph√°t nh·∫°c ch√∫c m·ª´ng ng√†y 20/11</p>
      <button class="music-prompt-btn" onclick="startMusicFromPrompt()">Ph√°t nh·∫°c</button>
    </div>
  </div>

<script>
// Subjects data with images, colors, and messages
const subjects = [
  {
    id: 'toan',
    name: 'To√°n',
    color: '#f4a261',
    image: 'images/toan.jpg',
    messages: [
      'K√≠nh g·ª≠i c√¥ Nga,Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam 20/11, em xin g·ª≠i ƒë·∫øn c√¥ l·ªùi ch√∫c s·ª©c kh·ªèe, h·∫°nh ph√∫c v√† lu√¥n tr√†n ƒë·∫ßy nhi·ªát huy·∫øt trong s·ª± nghi·ªáp tr·ªìng ng∆∞·ªùi. C·∫£m ∆°n c√¥ ƒë√£ t·∫≠n t√¢m gi·∫£ng d·∫°y, gi√∫p ch√∫ng em y√™u th√≠ch To√°n h·ªçc v√† lu√¥n c·ªë g·∫Øng trong h·ªçc t·∫≠p.'
  ]
  },
  {
    id: 'hoa',
    name: 'Ho√°',
    color: '#2a9d8f',
    image: 'images/hoa.jpg',
    messages: [
      'K√≠nh g·ª≠i c√¥ Lƒ©nh,Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam 20/11, em xin g·ª≠i t·ªõi c√¥ l·ªùi ch√∫c s·ª©c kh·ªèe d·ªìi d√†o, h·∫°nh ph√∫c vi√™n m√£n v√† lu√¥n tr√†n ƒë·∫ßy nhi·ªát huy·∫øt trong s·ª± nghi·ªáp gi·∫£ng d·∫°y. C·∫£m ∆°n c√¥ ƒë√£ t·∫≠n t√¢m h∆∞·ªõng d·∫´n ch√∫ng em y√™u th√≠ch H√≥a h·ªçc, t·ª´ nh·ªØng ph·∫£n ·ª©ng h√≥a h·ªçc ƒë·∫øn c√°c th√≠ nghi·ªám th√∫ v·ªã.'
  ]
  },
  {
    id: 'sinh',
    name: 'Sinh',
    color: '#e76f51',
    image: 'images/sinh.jpg',
    messages: [
      'K√≠nh g·ª≠i th·∫ßy Tu·∫•n,Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam 20/11, em xin g·ª≠i t·ªõi th·∫ßy l·ªùi ch√∫c s·ª©c kh·ªèe d·ªìi d√†o, h·∫°nh ph√∫c vi√™n m√£n v√† lu√¥n gi·ªØ ƒë∆∞·ª£c ng·ªçn l·ª≠a ƒëam m√™ trong s·ª± nghi·ªáp tr·ªìng ng∆∞·ªùi. C·∫£m ∆°n th·∫ßy ƒë√£ t·∫≠n t√¢m d·∫°y d·ªó v√† truy·ªÅn c·∫£m h·ª©ng cho ch√∫ng em y√™u th√≠ch m√¥n Sinh h·ªçc.'
  ]
  },
  {
    id: 'cong nghe',
    name: 'Cong Nghe',
    color: '#8ab17d',
    image: 'images/congnghe.jpg',
    messages: [
      'K√≠nh g·ª≠i th·∫ßy Tu·∫•n,Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam 20/11, em xin g·ª≠i t·ªõi th·∫ßy l·ªùi ch√∫c s·ª©c kh·ªèe d·ªìi d√†o, h·∫°nh ph√∫c vi√™n m√£n v√† lu√¥n gi·ªØ ƒë∆∞·ª£c ƒëam m√™ trong s·ª± nghi·ªáp gi·∫£ng d·∫°y. C·∫£m ∆°n th·∫ßy ƒë√£ t·∫≠n t√¢m truy·ªÅn ki·∫øn th·ª©c v·ªÅ c√¥ng ngh·ªá tr·ªìng tr·ªçt, gi√∫p ch√∫ng em hi·ªÉu bi·∫øt v√† y√™u th√≠ch n√¥ng nghi·ªáp hi·ªán ƒë·∫°i h∆°n.'
  ]
  },
  {
    id: 'van',
    name: 'VƒÉn',
    color: '#264653',
    image: 'images/van.jpg',
    messages: [
      'K√≠nh g·ª≠i th·∫ßy Chi·∫øn,Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam 20/11, em xin g·ª≠i t·ªõi th·∫ßy l·ªùi ch√∫c s·ª©c kh·ªèe d·ªìi d√†o, h·∫°nh ph√∫c vi√™n m√£n v√† lu√¥n tr√†n ƒë·∫ßy nhi·ªát huy·∫øt trong s·ª± nghi·ªáp gi·∫£ng d·∫°y. C·∫£m ∆°n th·∫ßy ƒë√£ truy·ªÅn c·∫£m h·ª©ng, gi√∫p ch√∫ng em y√™u th√≠ch VƒÉn h·ªçc v√† bi·∫øt c√°ch c·∫£m nh·∫≠n, th·∫•u hi·ªÉu cu·ªôc s·ªëng qua t·ª´ng c√¢u ch·ªØ.'
  ]
  },
  {
    id: 'su',
    name: 'S·ª≠',
    color: '#9b59b6',
    image: 'images/su.jpg',
    messages: [
      'K√≠nh g·ª≠i c√¥ Linh,Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam 20/11, em xin g·ª≠i t·ªõi c√¥ l·ªùi ch√∫c s·ª©c kh·ªèe d·ªìi d√†o, h·∫°nh ph√∫c vi√™n m√£n v√† lu√¥n tr√†n ƒë·∫ßy nhi·ªát huy·∫øt trong s·ª± nghi·ªáp gi·∫£ng d·∫°y. C·∫£m ∆°n c√¥ ƒë√£ t·∫≠n t√¢m h∆∞·ªõng d·∫´n, gi√∫p ch√∫ng em hi·ªÉu r√µ l·ªãch s·ª≠ d√¢n t·ªôc v√† bi·∫øt tr√¢n tr·ªçng qu√° kh·ª© ƒë·ªÉ v∆∞∆°n t·ªõi t∆∞∆°ng lai.'
    ]
  },
  {
    id: 'anh',
    name: 'Anh',
    color: '#3498db',
    image: 'images/anh.jpg',
    messages: [
      'K√≠nh g·ª≠i c√¥ H∆∞∆°ng,Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam 20/11, em xin g·ª≠i t·ªõi c√¥ l·ªùi ch√∫c s·ª©c kh·ªèe d·ªìi d√†o, h·∫°nh ph√∫c vi√™n m√£n v√† lu√¥n nhi·ªát huy·∫øt trong s·ª± nghi·ªáp gi·∫£ng d·∫°y. C·∫£m ∆°n c√¥ ƒë√£ t·∫≠n t√¢m h∆∞·ªõng d·∫´n ch√∫ng em h·ªçc Ti·∫øng Anh, gi√∫p m·ªü ra c√°nh c·ª≠a tri th·ª©c v√† c∆° h·ªôi giao ti·∫øp to√†n c·∫ßu.'
    ]
  },
  {
    id: 'dia',
    name: 'ƒê·ªãa',
    color: '#e67e22',
    image: 'images/dia.jpg',
    messages: [
      'K√≠nh g·ª≠i c√¥ Huy·ªÖn,Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam 20/11, em xin g·ª≠i t·ªõi c√¥ l·ªùi ch√∫c s·ª©c kh·ªèe d·ªìi d√†o, h·∫°nh ph√∫c vi√™n m√£n v√† lu√¥n nhi·ªát huy·∫øt trong s·ª± nghi·ªáp gi·∫£ng d·∫°y. C·∫£m ∆°n c√¥ ƒë√£ t·∫≠n t√¢m truy·ªÅn ƒë·∫°t ki·∫øn th·ª©c ƒê·ªãa L√Ω, gi√∫p ch√∫ng em hi·ªÉu r√µ h∆°n v·ªÅ th·∫ø gi·ªõi xung quanh v√† y√™u m√¥n h·ªçc n√†y.'
    ]
  },
  {
    id: 'the duc',
    name: 'Th·ªÉ D·ª•c',
    color: '#3498db',
    image: 'images/theduc.jpg',
    messages: [
      'K√≠nh g·ª≠i th·∫ßy Long,Nh√¢n ng√†y Nh√† gi√°o Vi·ªát Nam 20/11, em xin g·ª≠i t·ªõi th·∫ßy l·ªùi ch√∫c s·ª©c kh·ªèe d·ªìi d√†o, h·∫°nh ph√∫c vi√™n m√£n v√† lu√¥n nhi·ªát huy·∫øt trong s·ª± nghi·ªáp gi·∫£ng d·∫°y. C·∫£m ∆°n th·∫ßy ƒë√£ t·∫≠n t√¢m h∆∞·ªõng d·∫´n ch√∫ng em r√®n luy·ªán s·ª©c kh·ªèe v√† tinh th·∫ßn, gi√∫p h·ªçc tr√≤ m·∫°nh m·∫Ω h∆°n c·∫£ v·ªÅ th·ªÉ ch·∫•t l·∫´n tinh th·∫ßn.'
    ] 
  }
]
// Create SVG image from subject data
function createSubjectImage(subject) {
  const svg = `
    <svg xmlns='http://www.w3.org/2000/svg' width='800' height='500'>
      <defs>
        <linearGradient id='grad-${subject.id}' x1='0%' y1='0%' x2='100%' y2='100%'>
          <stop offset='0%' stop-color='${subject.color}' stop-opacity='0.9'/>
          <stop offset='100%' stop-color='${subject.color}' stop-opacity='0.6'/>
        </linearGradient>
      </defs>
      <rect width='100%' height='100%' rx='20' fill='url(#grad-${subject.id})' />
      <text x='50%' y='50%' font-family='Segoe UI, sans-serif' font-size='120' font-weight='bold' 
            fill='#fff' text-anchor='middle' dominant-baseline='middle'>${subject.name}</text>
    </svg>`;
  return 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
}

// Create falling letters animation
let activeFallingLetters = 0; // ƒê·∫øm s·ªë icon ƒëang r∆°i
const MAX_FALLING_LETTERS = 20; // S·ªë l∆∞·ª£ng t·ªëi ƒëa icon r∆°i c√πng l√∫c

function createFallingLetter() {
  // Ki·ªÉm tra s·ªë l∆∞·ª£ng icon ƒëang r∆°i
  if (activeFallingLetters >= MAX_FALLING_LETTERS) {
    return; // Kh√¥ng t·∫°o th√™m n·∫øu ƒë√£ ƒë·∫°t t·ªëi ƒëa
  }

  const letters = ['‚ù§Ô∏è', 'üíê', 'üåπ', 'üéâ', '‚≠ê', '‚ú®', 'üíù', 'üéÅ'];
  const letter = document.createElement('div');
  letter.className = 'falling-letter';
  letter.textContent = letters[Math.floor(Math.random() * letters.length)];
  letter.style.left = Math.random() * 100 + '%';
  letter.style.animationDuration = (Math.random() * 3 + 2) + 's';
  document.body.appendChild(letter);
  activeFallingLetters++; // TƒÉng s·ªë l∆∞·ª£ng icon ƒëang r∆°i

  setTimeout(() => {
    letter.remove();
    activeFallingLetters--; // Gi·∫£m s·ªë l∆∞·ª£ng khi icon bi·∫øn m·∫•t
  }, 5000);
}

// H√†m ƒë·ªÉ t·∫°o icon r∆°i li√™n t·ª•c
let continuousFallingInterval = null;

function startContinuousFallingLetters() {
  // D·ª´ng interval c≈© n·∫øu c√≥
  if (continuousFallingInterval) {
    clearInterval(continuousFallingInterval);
  }

  // T·∫°o icon r∆°i m·ªói 1 gi√¢y (t·∫ßn su·∫•t v·ª´a ph·∫£i)
  continuousFallingInterval = setInterval(() => {
    createFallingLetter();
  }, 500); // 1 gi√¢y m·ªôt icon
}

// Gi·ªØ l·∫°i h√†m c≈© ƒë·ªÉ t∆∞∆°ng th√≠ch v·ªõi code hi·ªán t·∫°i (khi click v√†o m√¥n h·ªçc)
function createFallingLetters() {
  // T·∫°o m·ªôt v√†i icon ngay l·∫≠p t·ª©c khi click
  for (let i = 0; i < 3; i++) {
    setTimeout(() => {
      createFallingLetter();
    }, i * 200);
  }
}

// Create floating wishes
let activeWishes = 0; // ƒê·∫øm s·ªë c√¢u ch√∫c ƒëang hi·ªÉn th·ªã
const MAX_WISHES = 8; // S·ªë l∆∞·ª£ng t·ªëi ƒëa c√¢u ch√∫c c√πng l√∫c

function createFloatingWish(message) {
  // Ki·ªÉm tra s·ªë l∆∞·ª£ng c√¢u ch√∫c ƒëang hi·ªÉn th·ªã
  if (activeWishes >= MAX_WISHES) {
    return; // Kh√¥ng t·∫°o th√™m n·∫øu ƒë√£ ƒë·∫°t t·ªëi ƒëa
  }

  const wish = document.createElement('div');
  wish.className = 'floating-wish';
  wish.textContent = message;
  wish.style.left = Math.random() * (window.innerWidth - 200) + 'px';
  wish.style.top = window.innerHeight + 'px';
  document.body.appendChild(wish);
  activeWishes++; // TƒÉng s·ªë l∆∞·ª£ng c√¢u ch√∫c ƒëang hi·ªÉn th·ªã

  setTimeout(() => {
    wish.remove();
    activeWishes--; // Gi·∫£m s·ªë l∆∞·ª£ng khi c√¢u ch√∫c bi·∫øn m·∫•t
  }, 4000); // Gi·∫£m th·ªùi gian hi·ªÉn th·ªã xu·ªëng 4 gi√¢y
}

// Additional wish messages
const additionalWishes = [
  'C·∫£m ∆°n th·∫ßy/c√¥!',
  'Ch√∫c th·∫ßy/c√¥ s·ª©c kh·ªèe!',
  'Th·∫ßy/c√¥ tuy·ªát v·ªùi nh·∫•t!',
  'M√£i y√™u th·∫ßy/c√¥!',
  'Ch√∫c th·∫ßy/c√¥ h·∫°nh ph√∫c!',
  'Th·∫ßy/c√¥ l√† ng∆∞·ªùi truy·ªÅn c·∫£m h·ª©ng!',
  'C·∫£m ∆°n v√¨ t·∫•t c·∫£!',
  'Ch√∫c th·∫ßy/c√¥ th√†nh c√¥ng!',
  'Th·∫ßy/c√¥ l√† ng∆∞·ªùi th·∫ßy tuy·ªát v·ªùi!',
  'M√£i nh·ªõ ∆°n th·∫ßy/c√¥!'
];

// H√†m ƒë·ªÉ t·∫°o c√¢u ch√∫c li√™n t·ª•c
let continuousWishInterval = null;

function startContinuousWishes() {
  // D·ª´ng interval c≈© n·∫øu c√≥
  if (continuousWishInterval) {
    clearInterval(continuousWishInterval);
  }

  // T·∫°o c√¢u ch√∫c m·ªói 1.8 gi√¢y (t·∫ßn su·∫•t v·ª´a ph·∫£i)
  continuousWishInterval = setInterval(() => {
    const wishMessage = additionalWishes[Math.floor(Math.random() * additionalWishes.length)];
    createFloatingWish(wishMessage);
  }, 1500); // 1.8 gi√¢y m·ªôt c√¢u ch√∫c
}

// Show subject information
function showSubject(subject) {
  const subjectDisplay = document.getElementById('subjectDisplay');
  const message = subject.messages[Math.floor(Math.random() * subject.messages.length)];
  const fallbackImg = createSubjectImage(subject);
  
  // Clear previous content
  subjectDisplay.innerHTML = '';
  
  const imgEl = document.createElement('img');
  imgEl.alt = subject.name;
  if (subject.image) {
    imgEl.src = subject.image;
    imgEl.onerror = () => {
      imgEl.onerror = null;
      imgEl.src = fallbackImg;
    };
  } else {
    imgEl.src = fallbackImg;
  }
  
  const messageEl = document.createElement('div');
  messageEl.className = 'subject-message';
  messageEl.textContent = message;
  
  subjectDisplay.appendChild(imgEl);
  subjectDisplay.appendChild(messageEl);
  subjectDisplay.setAttribute('aria-hidden', 'false');
  
  // Start animations
  createFallingLetters();
}

// Initialize subject buttons
const subjectsGrid = document.getElementById('subjectsGrid');
subjects.forEach(subject => {
  const btn = document.createElement('button');
  btn.className = 'subject-btn';
  btn.textContent = subject.name;
  btn.addEventListener('click', () => {
    showSubject(subject);
  });
  subjectsGrid.appendChild(btn);
});

// Audio Music Player (ZingMP3)
let musicStarted = false;
const backgroundMusic = document.getElementById('backgroundMusic');
const musicToggle = document.getElementById('musicToggle');
const musicPrompt = document.getElementById('musicPrompt');

// Ki·ªÉm tra khi audio c√≥ th·ªÉ ph√°t
backgroundMusic.addEventListener('canplaythrough', () => {
  console.log('Nh·∫°c ƒë√£ s·∫µn s√†ng ƒë·ªÉ ph√°t');
});

// X·ª≠ l√Ω khi nh·∫°c b·∫Øt ƒë·∫ßu ph√°t
backgroundMusic.addEventListener('play', () => {
  musicStarted = true;
  musicToggle.classList.add('playing');
  musicToggle.classList.remove('muted');
  musicToggle.textContent = 'üéµ';
  musicPrompt.classList.add('hidden');
});

// X·ª≠ l√Ω khi nh·∫°c d·ª´ng
backgroundMusic.addEventListener('pause', () => {
  musicToggle.classList.remove('playing');
  musicToggle.classList.add('muted');
  musicToggle.textContent = 'üîá';
});

// X·ª≠ l√Ω l·ªói khi load nh·∫°c
backgroundMusic.addEventListener('error', (e) => {
  console.log('L·ªói khi t·∫£i nh·∫°c:', e);
  // Hi·ªÉn th·ªã th√¥ng b√°o n·∫øu kh√¥ng t·∫£i ƒë∆∞·ª£c file
  if (backgroundMusic.error) {
    console.log('Chi ti·∫øt l·ªói:', backgroundMusic.error);
    // C√≥ th·ªÉ hi·ªÉn th·ªã th√¥ng b√°o cho ng∆∞·ªùi d√πng
    musicPrompt.querySelector('.music-prompt-content p').textContent = 
      'Kh√¥ng th·ªÉ t·∫£i nh·∫°c. Vui l√≤ng ki·ªÉm tra file nh·∫°c ho·∫∑c ƒë∆∞·ªùng d·∫´n.';
    showMusicPrompt();
  }
});

// Function to show music prompt
function showMusicPrompt() {
  if (!musicStarted) {
    musicPrompt.classList.remove('hidden');
  }
}

// Function to start music (requires user interaction)
function startMusic() {
  if (backgroundMusic) {
    const playPromise = backgroundMusic.play();
    
    if (playPromise !== undefined) {
      playPromise.then(() => {
        // Nh·∫°c ƒë√£ b·∫Øt ƒë·∫ßu ph√°t
        musicPrompt.classList.add('hidden');
      }).catch(error => {
        // Autoplay b·ªã ch·∫∑n
        console.log('Autoplay b·ªã ch·∫∑n:', error);
        showMusicPrompt();
      });
    }
  }
}

// Function to start music from prompt button
window.startMusicFromPrompt = function() {
  startMusic();
};

// Toggle music on/off
musicToggle.addEventListener('click', () => {
  if (!backgroundMusic) {
    startMusic();
    return;
  }
  
  if (backgroundMusic.paused) {
    backgroundMusic.play();
  } else {
    backgroundMusic.pause();
  }
});

// Start music when user interacts with the page (anywhere)
document.addEventListener('click', (e) => {
  // Kh√¥ng ph√°t n·∫øu click v√†o n√∫t toggle ho·∫∑c prompt
  if (e.target !== musicToggle && !musicPrompt.contains(e.target)) {
    startMusic();
  }
}, { once: true });

document.addEventListener('touchstart', startMusic, { once: true });
document.addEventListener('keydown', startMusic, { once: true });

// Try to play music automatically on page load
window.addEventListener('load', () => {
  // ƒê·ª£i m·ªôt ch√∫t ƒë·ªÉ audio load
  setTimeout(() => {
    if (backgroundMusic && !musicStarted) {
      const playPromise = backgroundMusic.play();
      
      if (playPromise !== undefined) {
        playPromise.then(() => {
          // Nh·∫°c ƒë√£ b·∫Øt ƒë·∫ßu ph√°t t·ª± ƒë·ªông
          musicPrompt.classList.add('hidden');
        }).catch(error => {
          // Autoplay b·ªã ch·∫∑n, hi·ªÉn th·ªã prompt
          console.log('Autoplay b·ªã ch·∫∑n, c·∫ßn t∆∞∆°ng t√°c ng∆∞·ªùi d√πng');
          showMusicPrompt();
        });
      }
    }
  }, 1000);
  
  // B·∫Øt ƒë·∫ßu t·∫°o c√¢u ch√∫c li√™n t·ª•c khi trang load
  startContinuousWishes();
  
  // B·∫Øt ƒë·∫ßu t·∫°o icon r∆°i li√™n t·ª•c khi trang load
  startContinuousFallingLetters();
});
</script>
</body>
</html>
